<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library Functions · FMI.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="FMI.jl logo"/></a><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../features/">Features</a></li><li><a class="tocitem" href="../faq/">FAQ</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../examples/overview/">Overview</a></li><li><a class="tocitem" href="../examples/simulate/">Simulate</a></li><li><a class="tocitem" href="../examples/parameterize/">Parameterize</a></li><li><a class="tocitem" href="../examples/multiple_instances/">Multiple instances</a></li><li><a class="tocitem" href="../examples/modelica_conference_2021/">Modelica conference 2021</a></li><li><a class="tocitem" href="../examples/manipulation/">Manipulation</a></li><li><a class="tocitem" href="../examples/multithreading/">Multithreading</a></li><li><a class="tocitem" href="../examples/multiprocessing/">Multiprocessing</a></li></ul></li><li class="is-active"><a class="tocitem" href>Library Functions</a><ul class="internal"><li><a class="tocitem" href="#FMI-Common-Concepts-for-Model-Exchange-and-Co-Simulation"><span>FMI Common Concepts for Model Exchange and Co-Simulation</span></a></li><li><a class="tocitem" href="#FMI-for-Model-Exchange"><span>FMI for Model Exchange</span></a></li><li><a class="tocitem" href="#FMI-for-CO-Simulation"><span>FMI for CO-Simulation</span></a></li><li><a class="tocitem" href="#Self-developed-functions"><span>Self-developed functions</span></a></li></ul></li><li><a class="tocitem" href="../related/">Related Publication</a></li><li><a class="tocitem" href="../contents/">Contents</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Library Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Library Functions</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Library-Functions"><a class="docs-heading-anchor" href="#Library-Functions">Library Functions</a><a id="Library-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Library-Functions" title="Permalink"></a></h1><h2 id="FMI-Common-Concepts-for-Model-Exchange-and-Co-Simulation"><a class="docs-heading-anchor" href="#FMI-Common-Concepts-for-Model-Exchange-and-Co-Simulation">FMI Common Concepts for Model Exchange and Co-Simulation</a><a id="FMI-Common-Concepts-for-Model-Exchange-and-Co-Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#FMI-Common-Concepts-for-Model-Exchange-and-Co-Simulation" title="Permalink"></a></h2><p>In both cases, FMI defines an input/output block of a dynamic model where the distribution of the block, the platform dependent header file, several access functions, as well as the schema files are identical</p><p>FMI2 and FMI3 contain different functions for this paragraph, therefore reference to the specific function in the FMIImport documentation.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Reading-the-model-description"><a class="docs-heading-anchor" href="#Reading-the-model-description">Reading the model description</a><a id="Reading-the-model-description-1"></a><a class="docs-heading-anchor-permalink" href="#Reading-the-model-description" title="Permalink"></a></h3><p>This section documents functions to inquire information about the model description of an FMU</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Creation,-Destruction-and-Logging-of-FMU-Instances"><a class="docs-heading-anchor" href="#Creation,-Destruction-and-Logging-of-FMU-Instances">Creation, Destruction and Logging of FMU Instances</a><a id="Creation,-Destruction-and-Logging-of-FMU-Instances-1"></a><a class="docs-heading-anchor-permalink" href="#Creation,-Destruction-and-Logging-of-FMU-Instances" title="Permalink"></a></h3><p>This section documents functions that deal with instantiation, destruction and logging of FMUs</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Creation,-Destruction-and-Logging-of-FMU-Instances-2"><a class="docs-heading-anchor" href="#Creation,-Destruction-and-Logging-of-FMU-Instances-2">Creation, Destruction and Logging of FMU Instances</a><a class="docs-heading-anchor-permalink" href="#Creation,-Destruction-and-Logging-of-FMU-Instances-2" title="Permalink"></a></h3><p>This section documents functions that deal with initialization, termination, resetting of an FMU.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Initialization,-Termination,-and-Resetting-an-FMU"><a class="docs-heading-anchor" href="#Initialization,-Termination,-and-Resetting-an-FMU">Initialization, Termination, and Resetting an FMU</a><a id="Initialization,-Termination,-and-Resetting-an-FMU-1"></a><a class="docs-heading-anchor-permalink" href="#Initialization,-Termination,-and-Resetting-an-FMU" title="Permalink"></a></h3><p>This section documents functions that deal with initialization, termination, resetting of an FMU.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Getting-and-Setting-Variable-Values"><a class="docs-heading-anchor" href="#Getting-and-Setting-Variable-Values">Getting and Setting Variable Values</a><a id="Getting-and-Setting-Variable-Values-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-and-Setting-Variable-Values" title="Permalink"></a></h3><p>All variable values of an FMU are identified with a variable handle called “value reference”. The handle is defined in the modelDescription.xml file (as attribute “valueReference” in element “ScalarVariable”). Element “valueReference” might not be unique for all variables. If two or more variables of the same base data type (such as fmi2Real) have the same valueReference, then they have identical values but other parts of the variable definition might be different [(for example, min/max attributes)].</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Getting-and-Setting-the-Complete-FMU-State"><a class="docs-heading-anchor" href="#Getting-and-Setting-the-Complete-FMU-State">Getting and Setting the Complete FMU State</a><a id="Getting-and-Setting-the-Complete-FMU-State-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-and-Setting-the-Complete-FMU-State" title="Permalink"></a></h3><p>The FMU has an internal state consisting of all values that are needed to continue a simulation. This internal state consists especially of the values of the continuous-time states, iteration variables, parameter values, input values, delay buffers, file identifiers, and FMU internal status information. With the functionsof this section, the internal FMU state can be copied and the pointer to this copy is returned to the environment. The FMU state copy can be set as actual FMU state, in order to continue the simulationfrom it.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Getting-Partial-Dervatives"><a class="docs-heading-anchor" href="#Getting-Partial-Dervatives">Getting Partial Dervatives</a><a id="Getting-Partial-Dervatives-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-Partial-Dervatives" title="Permalink"></a></h3><p>It is optionally possible to provide evaluation of partial derivatives for an FMU. For Model Exchange, this means computing the partial derivatives at a particular time instant. For Co-Simulation, this means to compute the partial derivatives at a particular communication point. One function is provided to compute directional derivatives. This function can be used to construct the desired partial derivative matrices.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h2 id="FMI-for-Model-Exchange"><a class="docs-heading-anchor" href="#FMI-for-Model-Exchange">FMI for Model Exchange</a><a id="FMI-for-Model-Exchange-1"></a><a class="docs-heading-anchor-permalink" href="#FMI-for-Model-Exchange" title="Permalink"></a></h2><p>This chapter contains the interface description to access the equations of a dynamic system from a C program.</p><p>FMI2 and FMI3 contain different functions for this paragraph, therefore reference to the specific function in the FMIImport documentation.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Providing-Independent-Variables-and-Re-initialization-of-Caching"><a class="docs-heading-anchor" href="#Providing-Independent-Variables-and-Re-initialization-of-Caching">Providing Independent Variables and Re-initialization of Caching</a><a id="Providing-Independent-Variables-and-Re-initialization-of-Caching-1"></a><a class="docs-heading-anchor-permalink" href="#Providing-Independent-Variables-and-Re-initialization-of-Caching" title="Permalink"></a></h3><p>Depending on the situation, different variables need to be computed. In order to be efficient, it is important that the interface requires only the computation of variables that are needed in the present context. The state derivatives shall be reused from the previous call. This feature is called “caching of variables” in the sequel. Caching requires that the model evaluation can detect when the input arguments, like time or states, have changed.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Evaluation-of-Model-Equations"><a class="docs-heading-anchor" href="#Evaluation-of-Model-Equations">Evaluation of Model Equations</a><a id="Evaluation-of-Model-Equations-1"></a><a class="docs-heading-anchor-permalink" href="#Evaluation-of-Model-Equations" title="Permalink"></a></h3><p>This section contains the core functions to evaluate the model equations</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h2 id="FMI-for-CO-Simulation"><a class="docs-heading-anchor" href="#FMI-for-CO-Simulation">FMI for CO-Simulation</a><a id="FMI-for-CO-Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#FMI-for-CO-Simulation" title="Permalink"></a></h2><p>This chapter defines the Functional Mock-up Interface (FMI) for the coupling of two or more simulation models in a co-simulation environment (FMI for Co-Simulation). Co-simulation is a rather general approach to the simulation of coupled technical systems and coupled physical phenomena in engineering with focus on instationary (time-dependent) problems.</p><p>FMI2 and FMI3 contain different functions for this paragraph, therefore reference to the specific function in the FMIImport documentation.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Transfer-of-Input-/-Output-Values-and-Parameters"><a class="docs-heading-anchor" href="#Transfer-of-Input-/-Output-Values-and-Parameters">Transfer of Input / Output Values and Parameters</a><a id="Transfer-of-Input-/-Output-Values-and-Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Transfer-of-Input-/-Output-Values-and-Parameters" title="Permalink"></a></h3><p>In order to enable the slave to interpolate the continuous real inputs between communication steps, the derivatives of the inputs with respect to time can be provided. Also, higher derivatives can be set to allow higher order interpolation.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Computation"><a class="docs-heading-anchor" href="#Computation">Computation</a><a id="Computation-1"></a><a class="docs-heading-anchor-permalink" href="#Computation" title="Permalink"></a></h3><p>The computation of time steps is controlled by the following function.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Retrieving-Status-Information-from-the-Slave"><a class="docs-heading-anchor" href="#Retrieving-Status-Information-from-the-Slave">Retrieving Status Information from the Slave</a><a id="Retrieving-Status-Information-from-the-Slave-1"></a><a class="docs-heading-anchor-permalink" href="#Retrieving-Status-Information-from-the-Slave" title="Permalink"></a></h3><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h2 id="Self-developed-functions"><a class="docs-heading-anchor" href="#Self-developed-functions">Self-developed functions</a><a id="Self-developed-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Self-developed-functions" title="Permalink"></a></h2><p>These new functions, that are useful, but not part of the FMI-spec (example: <code>fmi2Load</code>, <code>fmi2SampleDirectionalDerivative</code>)</p><h3 id="Opening-and-closing-FMUs"><a class="docs-heading-anchor" href="#Opening-and-closing-FMUs">Opening and closing FMUs</a><a id="Opening-and-closing-FMUs-1"></a><a class="docs-heading-anchor-permalink" href="#Opening-and-closing-FMUs" title="Permalink"></a></h3><p>There are a few more function that are different in FMI2 and FMI3. Therefor follow the links below:</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><article class="docstring"><header><a class="docstring-binding" id="FMI.fmiLoad" href="#FMI.fmiLoad"><code>FMI.fmiLoad</code></a> — <span class="docstring-category">Function</span></header><section><div><p>fmiLoad(pathToFMU::String; unpackPath=nothing, type=nothing)</p><p>Load FMUs independent of the FMI version, currently supporting version 2.0.X.</p><p><strong>Arguments</strong></p><ul><li><code>pathToFMU::String</code>: String that contains the paths of ziped and unziped FMU folders.</li></ul><p><strong>Keywords</strong></p><ul><li><code>unpackPath=nothing</code>: Via optional argument <code>unpackPath</code>, a path to unpack the FMU can be specified (default: system temporary directory).</li><li><code>type::Union{CS, ME} = nothing</code>:  Via <code>type</code>, a FMU type can be selected. If none of the unified type set is used, the default value <code>type = nothing</code> will be used.</li></ul><p><strong>Returns</strong></p><ul><li>Returns the instance of the FMU struct.</li></ul><p>See also <a href="@ref"><code>fmi2Load</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ThummeTo/FMI.jl/blob/aaec579b7eef00ea4c693d2af6ce5ea22898fbcb/src/FMI.jl#L436-L453">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FMI.fmiUnload" href="#FMI.fmiUnload"><code>FMI.fmiUnload</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fmiUnload(fmu::FMU2)</code></pre><p>Unloads the FMU and all its instances and frees the allocated memory.</p><p><strong>Arguments</strong></p><ul><li><code>fmu::FMU2</code>: Mutable struct representing a FMU and all it instantiated instances in the <a href="https://fmi-standard.org/">FMI 2.0.2 Standard</a>.</li></ul><p>See also <a href="@ref"><code>fmi2Unload</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ThummeTo/FMI.jl/blob/aaec579b7eef00ea4c693d2af6ce5ea22898fbcb/src/FMI.jl#L638-L648">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FMI.fmiReload" href="#FMI.fmiReload"><code>FMI.fmiReload</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fmiReload(fmu::FMU2)</code></pre><p>Reloads the FMU-binary. This is useful, if the FMU does not support a clean reset implementation.</p><p><strong>Arguments</strong></p><ul><li><code>fmu::FMU2</code>: Mutable struct representing a FMU and all it instantiated instances in the <a href="https://fmi-standard.org/">FMI 2.0.2 Standard</a>.</li></ul><p>See also <a href="@ref"><code>fmi2Reload</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ThummeTo/FMI.jl/blob/aaec579b7eef00ea4c693d2af6ce5ea22898fbcb/src/FMI.jl#L458-L469">source</a></section></article><h3 id="Conversion-functions"><a class="docs-heading-anchor" href="#Conversion-functions">Conversion functions</a><a id="Conversion-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Conversion-functions" title="Permalink"></a></h3><p>There are a few more function that are different in FMI2 and FMI3. Therefor follow the links below:</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><article class="docstring"><header><a class="docstring-binding" id="FMI.fmiStringToValueReference" href="#FMI.fmiStringToValueReference"><code>FMI.fmiStringToValueReference</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fmiStringToValueReference(dataStruct::Union{FMU2, fmi2ModelDescription, FMU3, fmmi3ModelDescription}, identifier::Union{String, AbstractArray{String}})</code></pre><p>Returns the ValueReference coresponding to the variable identifier.</p><p><strong>Arguments</strong></p><ul><li><code>dataStruct::Union{FMU2, fmi2ModelDescription, FMU3, fmmi3ModelDescription}</code>: Model of the type FMU2/FMU3 or the Model Description of fmi2/fmi3. Same for Model of type FMU3 or the Model Description of fmi3</li><li><code>identifier::Union{String, AbstractArray{String}}</code>: Variable identifier in type String or as a 1-dimensional AbstractArray containing elements of type String</li></ul><p>See also <a href="@ref"><code>fmi2StringToValueReference</code></a>, <a href="@ref"><code>fmi3StringToValueReference</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ThummeTo/FMI.jl/blob/aaec579b7eef00ea4c693d2af6ce5ea22898fbcb/src/FMI.jl#L149-L160">source</a></section></article><h3 id="external/additional-functions"><a class="docs-heading-anchor" href="#external/additional-functions">external/additional functions</a><a id="external/additional-functions-1"></a><a class="docs-heading-anchor-permalink" href="#external/additional-functions" title="Permalink"></a></h3><p>FMI2 and FMI3 contain different functions for this paragraph, therefore reference to the specific function in the FMIImport documentation.</p><ul><li><a href=".">FMI2</a></li><li><a href=".">FMI3</a> TODo Link</li></ul><h3 id="Visualize-simulation-results"><a class="docs-heading-anchor" href="#Visualize-simulation-results">Visualize simulation results</a><a id="Visualize-simulation-results-1"></a><a class="docs-heading-anchor-permalink" href="#Visualize-simulation-results" title="Permalink"></a></h3><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>fmiPlot</code>. Check Documenter&#39;s build log for details.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/multiprocessing/">« Multiprocessing</a><a class="docs-footer-nextpage" href="../related/">Related Publication »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 14 October 2022 15:48">Friday 14 October 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
